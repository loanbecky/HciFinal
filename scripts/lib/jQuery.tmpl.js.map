{"version":3,"sources":["lib/jQuery.tmpl.js"],"names":["jQuery","undefined","oldManip","fn","domManip","tmplItmAtt","htmlExpr","newTmplItems","wrappedItems","appendToTmplItems","topTmplItem","key","data","itemKey","cloneIndex","stack","newTmplItem","options","parentItem","newItem","_wrap","tmpl","parent","nodes","calls","tiCalls","nest","tiNest","wrap","tiWrap","html","tiHtml","update","tiUpdate","extend","_ctnt","length","each","appendTo","prependTo","insertBefore","insertAfter","replaceAll","name","original","selector","ret","insert","elems","i","l","tmplItems","parentNode","nodeType","childNodes","clone","get","apply","concat","pushStack","complete","tmplItem","template","args","table","callback","dmArgs","makeArray","arguments","argsLength","fragClone","afterManip","topLevel","wrapped","updateWrapped","build","call","isArray","map","dataItem","elem","buildTmplFn","innerHTML","test","encode","text","split","join","tag","_default","$2","open","close","$1","items","content","storeTmplItems","nested","frag","item","replace","all","before","middle","after","unencode","el","document","createElement","markup","Function","trim","slash","type","fnargs","target","parens","def","expr","exprAutoFnDetect","unescape","indexOf","params","outerHtml","div","appendChild","cloneNode","keySuffix","newClonedItems","m","getElementsByTagName","processItemKey","pntKey","pntNode","pntItem","getAttribute","cloneTmplItem","removeAttribute","push","pop","_","filter","textOnly","e","innerText","textContent","outerHTML","coll","remove"],"mappings":"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","sourcesContent":["/*\r\n * jQuery Templating Plugin\r\n * Copyright 2010, John Resig\r\n * Dual licensed under the MIT or GPL Version 2 licenses.\r\n */\r\n(function( jQuery, undefined ){\r\n\tvar oldManip = jQuery.fn.domManip, tmplItmAtt = '_tmplitem', htmlExpr = /^[^<]*(<[\\w\\W]+>)[^>]*$|\\{\\{\\! /,\r\n\t\tnewTmplItems = {}, wrappedItems = {}, appendToTmplItems, topTmplItem = { key: 0, data: {} }, itemKey = 0, cloneIndex = 0, stack = [];\r\n\r\n\tfunction newTmplItem( options, parentItem, fn, data ) {\r\n\t\t// Returns a template item data structure for a new rendered instance of a template (a 'template item').\r\n\t\t// The content field is a hierarchical array of strings and nested items (to be\r\n\t\t// removed and replaced by nodes field of dom elements, once inserted in DOM).\r\n\t\tvar newItem = {\r\n\t\t\tdata: data || (parentItem ? parentItem.data : {}),\r\n\t\t\t_wrap: parentItem ? parentItem._wrap : null,\r\n\t\t\ttmpl: null,\r\n\t\t\tparent: parentItem || null,\r\n\t\t\tnodes: [],\r\n\t\t\tcalls: tiCalls,\r\n\t\t\tnest: tiNest,\r\n\t\t\twrap: tiWrap,\r\n\t\t\thtml: tiHtml,\r\n\t\t\tupdate: tiUpdate\r\n\t\t};\r\n\t\tif ( options ) {\r\n\t\t\tjQuery.extend( newItem, options, { nodes: [], parent: parentItem } );\r\n\t\t}\r\n\t\tif ( fn ) {\r\n\t\t\t// Build the hierarchical content to be used during insertion into DOM\r\n\t\t\tnewItem.tmpl = fn;\r\n\t\t\tnewItem._ctnt = newItem._ctnt || newItem.tmpl( jQuery, newItem );\r\n\t\t\tnewItem.key = ++itemKey;\r\n\t\t\t// Keep track of new template item, until it is stored as jQuery Data on DOM element\r\n\t\t\t(stack.length ? wrappedItems : newTmplItems)[itemKey] = newItem;\r\n\t\t}\r\n\t\treturn newItem;\r\n\t}\r\n\r\n\t// Override appendTo etc., in order to provide support for targeting multiple elements. (This code would disappear if integrated in jquery core).\r\n\tjQuery.each({\r\n\t\tappendTo: 'append',\r\n\t\tprependTo: 'prepend',\r\n\t\tinsertBefore: 'before',\r\n\t\tinsertAfter: 'after',\r\n\t\treplaceAll: 'replaceWith'\r\n\t}, function( name, original ) {\r\n\t\tjQuery.fn[ name ] = function( selector ) {\r\n\t\t\tvar ret = [], insert = jQuery( selector ), elems, i, l, tmplItems,\r\n\t\t\t\tparent = this.length === 1 && this[0].parentNode;\r\n\r\n\t\t\tappendToTmplItems = newTmplItems || {};\r\n\t\t\tif ( parent && parent.nodeType === 11 && parent.childNodes.length === 1 && insert.length === 1 ) {\r\n\t\t\t\tinsert[ original ]( this[0] );\r\n\t\t\t\tret = this;\r\n\t\t\t} else {\r\n\t\t\t\tfor ( i = 0, l = insert.length; i < l; i++ ) {\r\n\t\t\t\t\tcloneIndex = i;\r\n\t\t\t\t\telems = (i > 0 ? this.clone(true) : this).get();\r\n\t\t\t\t\tjQuery.fn[ original ].apply( jQuery(insert[i]), elems );\r\n\t\t\t\t\tret = ret.concat( elems );\r\n\t\t\t\t}\r\n\t\t\t\tcloneIndex = 0;\r\n\t\t\t\tret = this.pushStack( ret, name, insert.selector );\r\n\t\t\t}\r\n\t\t\ttmplItems = appendToTmplItems;\r\n\t\t\tappendToTmplItems = null;\r\n\t\t\tjQuery.tmpl.complete( tmplItems );\r\n\t\t\treturn ret;\r\n\t\t};\r\n\t});\r\n\r\n\tjQuery.fn.extend({\r\n\t\t// Use first wrapped element as template markup.\r\n\t\t// Return wrapped set of template items, obtained by rendering template against data.\r\n\t\ttmpl: function( data, options, parentItem ) {\r\n\t\t\treturn jQuery.tmpl( this[0], data, options, parentItem );\r\n\t\t},\r\n\r\n\t\t// Find which rendered template item the first wrapped DOM element belongs to\r\n\t\ttmplItem: function() {\r\n\t\t\treturn jQuery.tmplItem( this[0] );\r\n\t\t},\r\n\r\n\t\t// Consider the first wrapped element as a template declaration, and get the compiled template or store it as a named template.\r\n\t\ttemplate: function( name ) {\r\n\t\t\treturn jQuery.template( name, this[0] );\r\n\t\t},\r\n\r\n\t\tdomManip: function( args, table, callback, options ) {\r\n\t\t\t// This appears to be a bug in the appendTo, etc. implementation\r\n\t\t\t// it should be doing .call() instead of .apply(). See #6227\r\n\t\t\tif ( args[0] && args[0].nodeType ) {\r\n\t\t\t\tvar dmArgs = jQuery.makeArray( arguments ), argsLength = args.length, i = 0, tmplItem;\r\n\t\t\t\twhile ( i < argsLength && !(tmplItem = jQuery.data( args[i++], 'tmplItem' ))) {}\r\n\t\t\t\tif ( argsLength > 1 ) {\r\n\t\t\t\t\tdmArgs[0] = [jQuery.makeArray( args )];\r\n\t\t\t\t}\r\n\t\t\t\tif ( tmplItem && cloneIndex ) {\r\n\t\t\t\t\tdmArgs[2] = function( fragClone ) {\r\n\t\t\t\t\t\t// Handler called by oldManip when rendered template has been inserted into DOM.\r\n\t\t\t\t\t\tjQuery.tmpl.afterManip( this, fragClone, callback );\r\n\t\t\t\t\t};\r\n\t\t\t\t}\r\n\t\t\t\toldManip.apply( this, dmArgs );\r\n\t\t\t} else {\r\n\t\t\t\toldManip.apply( this, arguments );\r\n\t\t\t}\r\n\t\t\tcloneIndex = 0;\r\n\t\t\tif ( !appendToTmplItems ) {\r\n\t\t\t\tjQuery.tmpl.complete( newTmplItems );\r\n\t\t\t}\r\n\t\t\treturn this;\r\n\t\t}\r\n\t});\r\n\r\n\tjQuery.extend({\r\n\t\t// Return wrapped set of template items, obtained by rendering template against data.\r\n\t\ttmpl: function( tmpl, data, options, parentItem ) {\r\n\t\t\tvar ret, topLevel = !parentItem;\r\n\t\t\tif ( topLevel ) {\r\n\t\t\t\t// This is a top-level tmpl call (not from a nested template using {{tmpl}})\r\n\t\t\t\tparentItem = topTmplItem;\r\n\t\t\t\ttmpl = jQuery.template[tmpl] || jQuery.template( null, tmpl );\r\n\t\t\t\twrappedItems = {}; // Any wrapped items will be rebuilt, since this is top level\r\n\t\t\t} else if ( !tmpl ) {\r\n\t\t\t\t// The template item is already associated with DOM - this is a refresh.\r\n\t\t\t\t// Re-evaluate rendered template for the parentItem\r\n\t\t\t\ttmpl = parentItem.tmpl;\r\n\t\t\t\tnewTmplItems[parentItem.key] = parentItem;\r\n\t\t\t\tparentItem.nodes = [];\r\n\t\t\t\tif ( parentItem.wrapped ) {\r\n\t\t\t\t\tupdateWrapped( parentItem, parentItem.wrapped );\r\n\t\t\t\t}\r\n\t\t\t\t// Rebuild, without creating a new template item\r\n\t\t\t\treturn jQuery( build( parentItem, null, parentItem.tmpl( jQuery, parentItem ) ));\r\n\t\t\t}\r\n\t\t\tif ( !tmpl ) {\r\n\t\t\t\treturn []; // Could throw...\r\n\t\t\t}\r\n\t\t\tif ( typeof data === 'function' ) {\r\n\t\t\t\tdata = data.call( parentItem || {} );\r\n\t\t\t}\r\n\t\t\tif ( options && options.wrapped ) {\r\n\t\t\t\tupdateWrapped( options, options.wrapped );\r\n\t\t\t}\r\n\t\t\tret = jQuery.isArray( data ) ? \r\n\t\t\t\tjQuery.map( data, function( dataItem ) {\r\n\t\t\t\t\treturn dataItem ? newTmplItem( options, parentItem, tmpl, dataItem ) : null;\r\n\t\t\t\t}) :\r\n\t\t\t\t[ newTmplItem( options, parentItem, tmpl, data ) ];\r\n\t\t\treturn topLevel ? jQuery( build( parentItem, null, ret ) ) : ret;\r\n\t\t},\r\n\r\n\t\t// Return rendered template item for an element.\r\n\t\ttmplItem: function( elem ) {\r\n\t\t\tvar tmplItem;\r\n\t\t\tif ( elem instanceof jQuery ) {\r\n\t\t\t\telem = elem[0];\r\n\t\t\t}\r\n\t\t\twhile ( elem && elem.nodeType === 1 && !(tmplItem = jQuery.data( elem, 'tmplItem' )) && (elem = elem.parentNode) ) {}\r\n\t\t\treturn tmplItem || topTmplItem;\r\n\t\t},\r\n\r\n\t\t// Set:\r\n\t\t// Use $.template( name, tmpl ) to cache a named template,\r\n\t\t// where tmpl is a template string, a script element or a jQuery instance wrapping a script element, etc.\r\n\t\t// Use $( \"selector\" ).template( name ) to provide access by name to a script block template declaration.\r\n\r\n\t\t// Get:\r\n\t\t// Use $.template( name ) to access a cached template.\r\n\t\t// Also $( selectorToScriptBlock ).template(), or $.template( null, templateString )\r\n\t\t// will return the compiled template, without adding a name reference.\r\n\t\t// If templateString includes at least one HTML tag, $.template( templateString ) is equivalent\r\n\t\t// to $.template( null, templateString )\r\n\t\ttemplate: function( name, tmpl ) {\r\n\t\t\tif (tmpl) {\r\n\t\t\t\t// Compile template and associate with name\r\n\t\t\t\tif ( typeof tmpl === 'string' ) {\r\n\t\t\t\t\t// This is an HTML string being passed directly in.\r\n\t\t\t\t\ttmpl = buildTmplFn( tmpl )\r\n\t\t\t\t} else if ( tmpl instanceof jQuery ) {\r\n\t\t\t\t\ttmpl = tmpl[0] || {};\r\n\t\t\t\t}\r\n\t\t\t\tif ( tmpl.nodeType ) {\r\n\t\t\t\t\t// If this is a template block, use cached copy, or generate tmpl function and cache.\r\n\t\t\t\t\ttmpl = jQuery.data( tmpl, 'tmpl' ) || jQuery.data( tmpl, 'tmpl', buildTmplFn( tmpl.innerHTML ));\r\n\t\t\t\t}\r\n\t\t\t\treturn typeof name === 'string' ? (jQuery.template[name] = tmpl) : tmpl;\r\n\t\t\t}\r\n\t\t\t// Return named compiled template\r\n\t\t\treturn name ? (typeof name !== 'string' ? jQuery.template( null, name ): \r\n\t\t\t\t(jQuery.template[name] || \r\n\t\t\t\t\t// If not in map, treat as a selector. (If integrated with core, use quickExpr.exec) \r\n\t\t\t\t\tjQuery.template( null, htmlExpr.test( name ) ? name : jQuery( name )))) : null; \r\n\t\t},\r\n\r\n\t\tencode: function( text ) {\r\n\t\t\t// Do HTML encoding replacing < > & and ' and \" by corresponding entities.\r\n\t\t\treturn ('' + text).split('<').join('&lt;').split('>').join('&gt;').split('\"').join('&#34;').split('\\'').join('&#39;');\r\n\t\t}\r\n\t});\r\n\r\n\tjQuery.extend( jQuery.tmpl, {\r\n\t\ttag: {\r\n\t\t\t'tmpl': {\r\n\t\t\t\t_default: { $2: 'null' },\r\n\t\t\t\topen: 'if($notnull_1){_=_.concat($item.nest($1,$2));}'\r\n\t\t\t\t// tmpl target parameter can be of type function, so use $1, not $1a (so not auto detection of functions)\r\n\t\t\t\t// This means that {{tmpl foo}} treats foo as a template (which IS a function). \r\n\t\t\t\t// Explicit parens can be used if foo is a function that returns a template: {{tmpl foo()}}.\r\n\t\t\t},\r\n\t\t\t'wrap': {\r\n\t\t\t\t_default: { $2: 'null' },\r\n\t\t\t\topen: '$item.calls(_,$1,$2);_=[];',\r\n\t\t\t\tclose: 'call=$item.calls();_=call._.concat($item.wrap(call,_));'\r\n\t\t\t},\r\n\t\t\t'each': {\r\n\t\t\t\t_default: { $2: '$index, $value' },\r\n\t\t\t\topen: 'if($notnull_1){$.each($1a,function($2){with(this){',\r\n\t\t\t\tclose: '}});}'\r\n\t\t\t},\r\n\t\t\t'if': {\r\n\t\t\t\topen: 'if(($notnull_1) && $1a){',\r\n\t\t\t\tclose: '}'\r\n\t\t\t},\r\n\t\t\t'else': {\r\n\t\t\t\t_default: { $1: 'true' },\r\n\t\t\t\topen: '}else if(($notnull_1) && $1a){'\r\n\t\t\t},\r\n\t\t\t'html': {\r\n\t\t\t\t// Unecoded expression evaluation. \r\n\t\t\t\topen: 'if($notnull_1){_.push($1a);}'\r\n\t\t\t},\r\n\t\t\t'=': {\r\n\t\t\t\t// Encoded expression evaluation. Abbreviated form is ${}.\r\n\t\t\t\t_default: { $1: '$data' },\r\n\t\t\t\topen: 'if($notnull_1){_.push($.encode($1a));}'\r\n\t\t\t},\r\n\t\t\t'!': {\r\n\t\t\t\t// Comment tag. Skipped by parser\r\n\t\t\t\topen: ''\r\n\t\t\t}\r\n\t\t},\r\n\r\n\t\t// This stub can be overridden, e.g. in jquery.tmplPlus for providing rendered events\r\n\t\tcomplete: function( items ) {\r\n\t\t\tnewTmplItems = {};\r\n\t\t},\r\n\r\n\t\t// Call this from code which overrides domManip, or equivalent\r\n\t\t// Manage cloning/storing template items etc.\r\n\t\tafterManip: function afterManip( elem, fragClone, callback ) {\r\n\t\t\t// Provides cloned fragment ready for fixup prior to and after insertion into DOM\r\n\t\t\tvar content = fragClone.nodeType === 11 ?\r\n\t\t\t\tjQuery.makeArray(fragClone.childNodes) :\r\n\t\t\t\tfragClone.nodeType === 1 ? [fragClone] : [];\r\n\r\n\t\t\t// Return fragment to original caller (e.g. append) for DOM insertion\r\n\t\t\tcallback.call( elem, fragClone );\r\n\r\n\t\t\t// Fragment has been inserted:- Add inserted nodes to tmplItem data structure. Replace inserted element annotations by jQuery.data.\r\n\t\t\tstoreTmplItems( content );\r\n\t\t\tcloneIndex++;\r\n\t\t}\r\n\t});\r\n\r\n\t//========================== Private helper functions, used by code above ==========================\r\n\r\n\tfunction build( tmplItem, nested, content ) {\r\n\t\t// Convert hierarchical content into flat string array \r\n\t\t// and finally return array of fragments ready for DOM insertion\r\n\t\tvar frag, ret = content ? jQuery.map( content, function( item ) {\r\n\t\t\treturn (typeof item === 'string') ? \r\n\t\t\t\t// Insert template item annotations, to be converted to jQuery.data( \"tmplItem\" ) when elems are inserted into DOM.\r\n\t\t\t\t(tmplItem.key ? item.replace( /(<\\w+)(?=[\\s>])(?![^>]*_tmplitem)([^>]*)/g, '$1 ' + tmplItmAtt + '=\"' + tmplItem.key + '\" $2' ) : item) :\r\n\t\t\t\t// This is a child template item. Build nested template.\r\n\t\t\t\tbuild( item, tmplItem, item._ctnt );\r\n\t\t}) : \r\n\t\t// If content is not defined, insert tmplItem directly. Not a template item. May be a string, or a string array, e.g. from {{html $item.html()}}. \r\n\t\ttmplItem;\r\n\t\tif ( nested ) {\r\n\t\t\treturn ret;\r\n\t\t}\r\n\r\n\t\t// top-level template\r\n\t\tret = ret.join('');\r\n\r\n\t\t// Support templates which have initial or final text nodes, or consist only of text\r\n\t\t// Also support HTML entities within the HTML markup.\r\n\t\tret.replace( /^\\s*([^<\\s][^<]*)?(<[\\w\\W]+>)([^>]*[^>\\s])?\\s*$/, function( all, before, middle, after) {\r\n\t\t\tfrag = jQuery( middle ).get();\r\n\r\n\t\t\tstoreTmplItems( frag );\r\n\t\t\tif ( before ) {\r\n\t\t\t\tfrag = unencode( before ).concat(frag);\r\n\t\t\t}\r\n\t\t\tif ( after ) {\r\n\t\t\t\tfrag = frag.concat(unencode( after ));\r\n\t\t\t}\r\n\t\t});\r\n\t\treturn frag ? frag : unencode( ret );\r\n\t}\r\n\r\n\tfunction unencode( text ) {\r\n\t\t// Use createElement, since createTextNode will not render HTML entities correctly\r\n\t\tvar el = document.createElement( 'div' );\r\n\t\tel.innerHTML = text;\r\n\t\treturn jQuery.makeArray(el.childNodes);\r\n\t}\r\n\r\n\t// Generate a reusable function that will serve to render a template against data\r\n\tfunction buildTmplFn( markup ) {\r\n\t\treturn new Function('jQuery','$item',\r\n\t\t\t'var $=jQuery,call,_=[],$data=$item.data;' +\r\n\r\n\t\t\t// Introduce the data as local variables using with(){}\r\n\t\t\t'with($data){_.push(\\'' +\r\n\r\n\t\t\t// Convert the template into pure JavaScript\r\n\t\t\tjQuery.trim(markup)\r\n\t\t\t\t.replace( /([\\\\'])/g, '\\\\$1' )\r\n\t\t\t\t.replace( /[\\r\\t\\n]/g, ' ' )\r\n\t\t\t\t.replace( /\\$\\{([^\\}]*)\\}/g, '{{= $1}}' )\r\n\t\t\t\t.replace( /\\{\\{(\\/?)(\\w+|.)(?:\\(((?:[^\\}]|\\}(?!\\}))*?)?\\))?(?:\\s+(.*?)?)?(\\(((?:[^\\}]|\\}(?!\\}))*?)\\))?\\s*\\}\\}/g,\r\n\t\t\t\tfunction( all, slash, type, fnargs, target, parens, args ) {\r\n\t\t\t\t\tvar tag = jQuery.tmpl.tag[ type ], def, expr, exprAutoFnDetect;\r\n\t\t\t\t\tif ( !tag ) {\r\n\t\t\t\t\t\tthrow 'Template command not found: ' + type;\r\n\t\t\t\t\t}\r\n\t\t\t\t\tdef = tag._default || [];\r\n\t\t\t\t\tif ( parens && !/\\w$/.test(target)) {\r\n\t\t\t\t\t\ttarget += parens;\r\n\t\t\t\t\t\tparens = '';\r\n\t\t\t\t\t}\r\n\t\t\t\t\tif ( target ) {\r\n\t\t\t\t\t\ttarget = unescape( target ); \r\n\t\t\t\t\t\targs = args ? (',' + unescape( args ) + ')') : (parens ? ')' : '');\r\n\t\t\t\t\t\t// Support for target being things like a.toLowerCase();\r\n\t\t\t\t\t\t// In that case don't call with template item as 'this' pointer. Just evaluate...\r\n\t\t\t\t\t\texpr = parens ? (target.indexOf('.') > -1 ? target + parens : ('(' + target + ').call($item' + args)) : target;\r\n\t\t\t\t\t\texprAutoFnDetect = parens ? expr : '(typeof(' + target + ')===\\'function\\'?(' + target + ').call($item):(' + target + '))';\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\texprAutoFnDetect = expr = def.$1 || 'null';\r\n\t\t\t\t\t}\r\n\t\t\t\t\tfnargs = unescape( fnargs );\r\n\t\t\t\t\treturn '\\');' + \r\n\t\t\t\t\t\ttag[ slash ? 'close' : 'open' ]\r\n\t\t\t\t\t\t\t.split( '$notnull_1' ).join( target ? 'typeof(' + target + ')!==\\'undefined\\' && (' + target + ')!=null' : 'true' )\r\n\t\t\t\t\t\t\t.split( '$1a' ).join( exprAutoFnDetect )\r\n\t\t\t\t\t\t\t.split( '$1' ).join( expr )\r\n\t\t\t\t\t\t\t.split( '$2' ).join( fnargs ?\r\n\t\t\t\t\t\t\t\tfnargs.replace( /\\s*([^\\(]+)\\s*(\\((.*?)\\))?/g, function( all, name, parens, params ) {\r\n\t\t\t\t\t\t\t\t\tparams = params ? (',' + params + ')') : (parens ? ')' : '');\r\n\t\t\t\t\t\t\t\t\treturn params ? ('(' + name + ').call($item' + params) : all;\r\n\t\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t\t\t: (def.$2||'')\r\n\t\t\t\t\t\t\t) +\r\n\t\t\t\t\t\t'_.push(\\'';\r\n\t\t\t\t}) +\r\n\t\t\t'\\');}return _;'\r\n\t\t);\r\n\t}\r\n\tfunction updateWrapped( options, wrapped ) {\r\n\t\t// Build the wrapped content. \r\n\t\toptions._wrap = build( options, true, \r\n\t\t\t// Suport imperative scenario in which options.wrapped can be set to a selector or an HTML string.\r\n\t\t\tjQuery.isArray( wrapped ) ? wrapped : [htmlExpr.test( wrapped ) ? wrapped : jQuery( wrapped ).html()]\r\n\t\t).join('');\r\n\t}\r\n\r\n\tfunction unescape( args ) {\r\n\t\treturn args ? args.replace( /\\\\'/g, '\\'').replace(/\\\\\\\\/g, '\\\\' ) : null;\r\n\t}\r\n\tfunction outerHtml( elem ) {\r\n\t\tvar div = document.createElement('div');\r\n\t\tdiv.appendChild( elem.cloneNode(true) );\r\n\t\treturn div.innerHTML;\r\n\t}\r\n\r\n\t// Store template items in jQuery.data(), ensuring a unique tmplItem data data structure for each rendered template instance.\r\n\tfunction storeTmplItems( content ) {\r\n\t\tvar keySuffix = '_' + cloneIndex, elem, elems, newClonedItems = {}, i, l, m;\r\n\t\tfor ( i = 0, l = content.length; i < l; i++ ) {\r\n\t\t\tif ( (elem = content[i]).nodeType !== 1 ) {\r\n\t\t\t\tcontinue;\r\n\t\t\t}\r\n\t\t\telems = elem.getElementsByTagName('*');\r\n\t\t\tfor ( m = elems.length - 1; m >= 0; m-- ) {\r\n\t\t\t\tprocessItemKey( elems[m] );\r\n\t\t\t}\r\n\t\t\tprocessItemKey( elem );\r\n\t\t}\r\n\t\tfunction processItemKey( el ) {\r\n\t\t\tvar pntKey, pntNode = el, pntItem, tmplItem, key;\r\n\t\t\t// Ensure that each rendered template inserted into the DOM has its own template item,\r\n\t\t\tif ( (key = el.getAttribute( tmplItmAtt ))) {\r\n\t\t\t\twhile ( pntNode.parentNode && (pntNode = pntNode.parentNode).nodeType === 1 && !(pntKey = pntNode.getAttribute( tmplItmAtt ))) { }\r\n\t\t\t\tif ( pntKey !== key ) {\r\n\t\t\t\t\t// The next ancestor with a _tmplitem expando is on a different key than this one.\r\n\t\t\t\t\t// So this is a top-level element within this template item\r\n\t\t\t\t\t// Set pntNode to the key of the parentNode, or to 0 if pntNode.parentNode is null, or pntNode is a fragment.\r\n\t\t\t\t\tpntNode = pntNode.parentNode ? (pntNode.nodeType === 11 ? 0 : (pntNode.getAttribute( tmplItmAtt ) || 0)) : 0;\r\n\t\t\t\t\tif ( !(tmplItem = newTmplItems[key]) ) {\r\n\t\t\t\t\t\t// The item is for wrapped content, and was copied from the temporary parent wrappedItem.\r\n\t\t\t\t\t\ttmplItem = wrappedItems[key];\r\n\t\t\t\t\t\ttmplItem = newTmplItem( tmplItem, newTmplItems[pntNode]||wrappedItems[pntNode], null, true );\r\n\t\t\t\t\t\ttmplItem.key = ++itemKey;\r\n\t\t\t\t\t\tnewTmplItems[itemKey] = tmplItem;\r\n\t\t\t\t\t}\r\n\t\t\t\t\tif ( cloneIndex ) {\r\n\t\t\t\t\t\tcloneTmplItem( key );\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t\tel.removeAttribute( tmplItmAtt );\r\n\t\t\t} else if ( cloneIndex && (tmplItem = jQuery.data( el, 'tmplItem' )) ) {\r\n\t\t\t\t// This was a rendered element, cloned during append or appendTo etc.\r\n\t\t\t\t// TmplItem stored in jQuery data has already been cloned in cloneCopyEvent. We must replace it with a fresh cloned tmplItem.\r\n\t\t\t\tcloneTmplItem( tmplItem.key );\r\n\t\t\t\tnewTmplItems[tmplItem.key] = tmplItem;\r\n\t\t\t\tpntNode = jQuery.data( el.parentNode, 'tmplItem' );\r\n\t\t\t\tpntNode = pntNode ? pntNode.key : 0;\r\n\t\t\t}\r\n\t\t\tif ( tmplItem ) {\r\n\t\t\t\tpntItem = tmplItem;\r\n\t\t\t\t// Find the template item of the parent element. \r\n\t\t\t\t// (Using !=, not !==, since pntItem.key is number, and pntNode may be a string)\r\n\t\t\t\twhile ( pntItem && pntItem.key != pntNode ) { \r\n\t\t\t\t\t// Add this element as a top-level node for this rendered template item, as well as for any\r\n\t\t\t\t\t// ancestor items between this item and the item of its parent element\r\n\t\t\t\t\tpntItem.nodes.push( el );\r\n\t\t\t\t\tpntItem = pntItem.parent;\r\n\t\t\t\t}\r\n\t\t\t\t// Delete content built during rendering - reduce API surface area and memory use, and avoid exposing of stale data after rendering...\r\n\t\t\t\tdelete tmplItem._ctnt;\r\n\t\t\t\tdelete tmplItem._wrap;\r\n\t\t\t\t// Store template item as jQuery data on the element\r\n\t\t\t\tjQuery.data( el, 'tmplItem', tmplItem );\r\n\t\t\t}\r\n\t\t\tfunction cloneTmplItem( key ) {\r\n\t\t\t\tkey = key + keySuffix;\r\n\t\t\t\ttmplItem = newClonedItems[key] = \r\n\t\t\t\t\t(newClonedItems[key] || newTmplItem( tmplItem, newTmplItems[tmplItem.parent.key + keySuffix] || tmplItem.parent, null, true ));\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\r\n\t//---- Helper functions for template item ----\r\n\r\n\tfunction tiCalls( content, tmpl, data, options ) {\r\n\t\tif ( !content ) {\r\n\t\t\treturn stack.pop();\r\n\t\t}\r\n\t\tstack.push({ _: content, tmpl: tmpl, item:this, data: data, options: options });\r\n\t}\r\n\r\n\tfunction tiNest( tmpl, data, options ) {\r\n\t\t// nested template, using {{tmpl}} tag\r\n\t\treturn jQuery.tmpl( jQuery.template( tmpl ), data, options, this );\r\n\t}\r\n\r\n\tfunction tiWrap( call, wrapped ) {\r\n\t\t// nested template, using {{wrap}} tag\r\n\t\tvar options = call.options || {};\r\n\t\toptions.wrapped = wrapped;\r\n\t\t// Apply the template, which may incorporate wrapped content, \r\n\t\treturn jQuery.tmpl( jQuery.template( call.tmpl ), call.data, options, call.item );\r\n\t}\r\n\r\n\tfunction tiHtml( filter, textOnly ) {\r\n\t\tvar wrapped = this._wrap;\r\n\t\treturn jQuery.map(\r\n\t\t\tjQuery( jQuery.isArray( wrapped ) ? wrapped.join('') : wrapped ).filter( filter || '*' ),\r\n\t\t\tfunction(e) {\r\n\t\t\t\treturn textOnly ?\r\n\t\t\t\t\te.innerText || e.textContent :\r\n\t\t\t\t\te.outerHTML || outerHtml(e);\r\n\t\t\t});\r\n\t}\r\n\r\n\tfunction tiUpdate() {\r\n\t\tvar coll = this.nodes;\r\n\t\tjQuery.tmpl( null, null, null, this).insertBefore( coll[0] );\r\n\t\tjQuery( coll ).remove();\r\n\t}\r\n})( jQuery );"],"file":"jQuery.tmpl.js"}