{"version":3,"sources":["main.js"],"names":["$","authService","navigationService","permissionService","config","userService","toDenied","requireLogin","isSignedIn","toLogin","requiredRole","requireRole","inRole","currentUser","getCurrentUser","text","email","click","e","preventDefault","signOut","toHome","jQuery","__config__"],"mappings":"AAAA;;AAEA,CAAC,UAAUA,CAAV,EAAaC,WAAb,EAA0BC,iBAA1B,EAA6CC,iBAA7C,EAAgEC,MAAhE,EAAwEC,WAAxE,EAAqF;AAClF,MAAI,CAACD,MAAL,EAAaF,iBAAiB,CAACI,QAAlB,GADqE,CAGlF;;AACA,MAAIF,MAAM,CAACG,YAAP,MAAyB,CAACN,WAAW,CAACO,UAAZ,EAA9B,EAAwD;AACpDN,IAAAA,iBAAiB,CAACO,OAAlB;AACH,GANiF,CAOlF;;;AACA,MAAMC,YAAY,GAAGN,MAAM,CAACO,WAAP,EAArB;;AACA,MAAID,YAAY,IAAI,CAACP,iBAAiB,CAACS,MAAlB,CAAyBF,YAAzB,CAArB,EAA6D;AACzDR,IAAAA,iBAAiB,CAACO,OAAlB;AACH;;AACDT,EAAAA,CAAC,CAAC,YAAY;AACV,QAAIa,WAAW,GAAGR,WAAW,CAACS,cAAZ,EAAlB;;AACA,QAAGD,WAAH,EAAe;AACXb,MAAAA,CAAC,CAAC,mBAAD,CAAD,CAAuBe,IAAvB,CAA4BF,WAAW,CAACG,KAAxC;AACH;;AAEDhB,IAAAA,CAAC,CAAC,SAAD,CAAD,CAAaiB,KAAb,CAAmB,UAASC,CAAT,EAAW;AAC1BA,MAAAA,CAAC,CAACC,cAAF;AACAlB,MAAAA,WAAW,CAACmB,OAAZ;AACAlB,MAAAA,iBAAiB,CAACmB,MAAlB;AACH,KAJD;AAKH,GAXA,CAAD;AAaH,CAzBD,EAyBGC,MAzBH,EAyBWrB,WAzBX,EAyBwBC,iBAzBxB,EAyB2CC,iBAzB3C,EAyB8DoB,UAzB9D,EAyB0ElB,WAzB1E","sourcesContent":["'use strict';\r\n\r\n(function ($, authService, navigationService, permissionService, config, userService) {\r\n    if (!config) navigationService.toDenied();\r\n\r\n    //authenticate\r\n    if (config.requireLogin() && !authService.isSignedIn()) {\r\n        navigationService.toLogin();\r\n    }\r\n    //authorize\r\n    const requiredRole = config.requireRole();\r\n    if (requiredRole && !permissionService.inRole(requiredRole)) {\r\n        navigationService.toLogin();\r\n    }\r\n    $(function () {\r\n        var currentUser = userService.getCurrentUser();\r\n        if(currentUser){\r\n            $('#currentUserEmail').text(currentUser.email);\r\n        }\r\n\r\n        $('#logout').click(function(e){\r\n            e.preventDefault();\r\n            authService.signOut();\r\n            navigationService.toHome();\r\n        });\r\n    });\r\n\r\n})(jQuery, authService, navigationService, permissionService, __config__, userService);"],"file":"main.js"}