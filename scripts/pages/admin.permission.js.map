{"version":3,"sources":["pages/admin.permission.js"],"names":["$","rep","nav","per","RESOURCES","ACTIONS","commonService","actions","canDoActions","PERMISSION","permissions","$roleOptions","_currentRoleId","$roleList","$rolePermissionTemplate","fillRoleList","change","e","val","fillRolePermissionList","on","$target","currentTarget","action","getAction","value","is","id","data","permissionId","updateRolePermission","createRolePermission","attr","text","canDo","CREATE","permission","getEntityById","keys","insertEntity","rolePermission","roleId","read","READ","create","update","UPDATE","delete","DELETE","alertMessage","updateData","updateEntity","roles","getEntities","role","length","i","append","name","addClass","$rolePermissionContainer","find","html","rolePermissions","j","item","matchRolePermission","getRenderItem","tmpl","appendTo","updateStatus","removeClass","index","random","makeid","pId","rp","element","getPermission","result","characters","charactersLength","charAt","Math","floor","jQuery","repository","navigationService","permissionService"],"mappings":"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","sourcesContent":["\"use strict\";\r\n\r\n(function ($, rep, nav, per, RESOURCES, ACTIONS, commonService) {\r\n    const actions = per.canDoActions(RESOURCES.PERMISSION);\r\n\r\n    let permissions = null;\r\n\r\n    const $roleOptions = $('#roleOptions');\r\n    let _currentRoleId = 0;\r\n    const $roleList = $('#role-permission-list');\r\n    const $rolePermissionTemplate = $('#rolePermissionTemplate');\r\n\r\n    $(function () {\r\n        fillRoleList();\r\n\r\n        $roleOptions.change(function (e) {\r\n            _currentRoleId = $roleOptions.val();\r\n            fillRolePermissionList(_currentRoleId);\r\n        });\r\n\r\n        $roleList.on('change', '.grant-permission', function (e) {\r\n            var $target = $(e.currentTarget);\r\n            var action = getAction($target);\r\n            if (!action) return;\r\n\r\n            var value = $target.is(':checked');\r\n            var id = $target.data('id');\r\n            var permissionId = $target.data('permission');\r\n            if (id) {\r\n                updateRolePermission(id, action, value);\r\n            } else if (permissionId) {\r\n                createRolePermission(permissionId, action, value);\r\n            }\r\n            $(`[for=${$target.attr('id')}]`).text(value ? 'On' : 'Off');\r\n        });\r\n    });\r\n\r\n    function createRolePermission(permissionId, action, value) {\r\n\r\n        if (per.canDo(RESOURCES.PERMISSION, ACTIONS.CREATE)) {\r\n            var permission = rep.getEntityById(rep.keys.permission, permissionId);\r\n            if (permission) {\r\n                rep.insertEntity(rep.keys.rolePermission, {\r\n                    roleId: _currentRoleId,\r\n                    permissionId: permission.id,\r\n                    read: action == ACTIONS.READ ? value : false,\r\n                    create: action == ACTIONS.CREATE ? value : false,\r\n                    update: action == ACTIONS.UPDATE ? value : false,\r\n                    delete: action == ACTIONS.DELETE ? value : false\r\n                });\r\n            } else {\r\n                commonService.alertMessage('Permission is not found');\r\n            }\r\n        } else {\r\n            commonService.alertMessage(\"You don't have create permission\");\r\n        }\r\n    }\r\n\r\n    function updateRolePermission(id, action, value) {\r\n        if (per.canDo(RESOURCES.PERMISSION, ACTIONS.UPDATE)) {\r\n            var rolePermission = rep.getEntityById(rep.keys.rolePermission, id);\r\n            if (rolePermission) {\r\n                var updateData = {};\r\n                updateData[action] = value;\r\n                rep.updateEntity(rep.keys.rolePermission, rolePermission.id, updateData);\r\n            } else {\r\n                commonService.alertMessage('Permission is not found');\r\n            }\r\n        } else {\r\n            commonService.alertMessage(\"You don't have update permission\");\r\n        }\r\n    }\r\n\r\n    function fillRoleList() {\r\n        // if (per.canDo(RESOURCES.ROLE, ACTIONS.READ)) {\r\n        const roles = rep.getEntities(rep.keys.role);\r\n        if (roles && roles.length) {\r\n            for (var i = 0; i < roles.length; i++) {\r\n                let role = roles[i];\r\n                $roleOptions.append(`<option value=\"${role.id}\">${role.name}</option>`);\r\n            }\r\n        }\r\n        // }\r\n    }\r\n    function fillRolePermissionList(roleId) {\r\n        if (roleId == 0) {\r\n            $roleList.addClass('d-none');\r\n            return;\r\n        }\r\n        var $rolePermissionContainer = $roleList.find('tbody');\r\n        $rolePermissionContainer.html('');\r\n        if (per.canDo(RESOURCES.PERMISSION, ACTIONS.READ)) {\r\n            var permissions = rep.getEntities(rep.keys.permission);\r\n            var rolePermissions = rep.getEntities(rep.keys.rolePermission);\r\n            if (permissions && permissions.length) {\r\n                for (var j = 0; j < permissions.length; j++) {\r\n                    var permission = permissions[j];\r\n                    var item = null;\r\n                    var matchRolePermission = { id: 0 };\r\n                    for (var i = 0; i < rolePermissions.length; i++) {\r\n                        var rolePermission = rolePermissions[i];\r\n                        if (rolePermission.permissionId == permission.id && rolePermission.roleId == roleId) {\r\n                            item = getRenderItem(rolePermission, permission, j);\r\n                            matchRolePermission = rolePermission;\r\n                            break;\r\n                        }\r\n                    }\r\n                    if (!item) item = getRenderItem(matchRolePermission, permission, j);\r\n                    $rolePermissionTemplate.tmpl(item).appendTo($rolePermissionContainer);\r\n                    updateStatus(item);\r\n                }\r\n            } else {\r\n                $rolePermissionContainer.html(`<tr><td colspan=\"6\"><div class=\"alert alert-info\">Permission data is empty</div></td></tr>`);\r\n            }\r\n        } else {\r\n            $rolePermissionContainer.html(`<tr><td colspan=\"6\"><div class=\"alert alert-info\">You don't have read permission</div></td></tr>`);\r\n        }\r\n        $roleList.removeClass('d-none');\r\n    }\r\n    function getRenderItem(rolePermission, permission, index) {\r\n        return {\r\n            index: index + 1,\r\n            random: makeid(4),\r\n            id: rolePermission.id,\r\n            pId: permission.id,\r\n            name: permission.name,\r\n            read: !!rolePermission.read,\r\n            create: !!rolePermission.create,\r\n            update: !!rolePermission.update,\r\n            delete: !!rolePermission.delete\r\n        };\r\n    }\r\n    function updateStatus(rp) {\r\n        $(`#create-${rp.random}`).attr('checked', rp.create);\r\n        $(`#update-${rp.random}`).attr('checked', rp.update);\r\n        $(`#delete-${rp.random}`).attr('checked', rp.delete);\r\n        $(`#read-${rp.random}`).attr('checked', rp.read);\r\n        $(`[for=create-${rp.random}]`).text(rp.create ? 'On' : 'Off');\r\n        $(`[for=update-${rp.random}]`).text(rp.update ? 'On' : 'Off');\r\n        $(`[for=delete-${rp.random}]`).text(rp.delete ? 'On' : 'Off');\r\n        $(`[for=read-${rp.random}]`).text(rp.read ? 'On' : 'Off');\r\n    }\r\n    function getAction(element) {\r\n        var action = null;\r\n        if (element.is('.create-permission')) {\r\n            action = ACTIONS.CREATE;\r\n        } else if (element.is('.update-permission')) {\r\n            action = ACTIONS.UPDATE;\r\n        } else if (element.is('.delete-permission')) {\r\n            action = ACTIONS.DELETE;\r\n        } else if (element.is('.read-permission')) {\r\n            action = ACTIONS.READ;\r\n        }\r\n        return action;\r\n    }\r\n    function getPermission(id) {\r\n        if (!permissions) permissions = rep.getEntities(rep.keys.permission);\r\n        if (!permissions || !permissions.length) return;\r\n        for (var i = 0; i < permissions.length; i++) {\r\n            var permission = permissions[i];\r\n            if (permission.id == id) {\r\n                return permission;\r\n            }\r\n        }\r\n        return null;\r\n    }\r\n    function makeid(length) {\r\n        var result = '';\r\n        var characters = 'ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789';\r\n        var charactersLength = characters.length;\r\n        for (var i = 0; i < length; i++) {\r\n            result += characters.charAt(Math.floor(Math.random() * charactersLength));\r\n        }\r\n        return result;\r\n    }\r\n})(jQuery, repository, navigationService, permissionService, RESOURCES, ACTIONS, commonService);"],"file":"admin.permission.js"}