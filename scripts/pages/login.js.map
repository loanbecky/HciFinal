{"version":3,"sources":["pages/login.js"],"names":["$","authService","navigationService","$form","$alertMessage","submit","e","preventDefault","email","find","val","password","result","signIn","setMessage","urlParams","URLSearchParams","window","location","search","returnUrl","get","toLocalUrl","toHome","message","html","removeClass","addClass","jQuery"],"mappings":"AAAA;;AAEA,CAAC,UAAUA,CAAV,EAAaC,WAAb,EAA0BC,iBAA1B,EAA6C;AAC1C,MAAMC,KAAK,GAAGH,CAAC,CAAC,YAAD,CAAf;AACA,MAAMI,aAAa,GAAGJ,CAAC,CAAC,gBAAD,CAAvB;AACAA,EAAAA,CAAC,CAAC,YAAY;AACVG,IAAAA,KAAK,CAACE,MAAN,CAAa,UAAUC,CAAV,EAAa;AACtBA,MAAAA,CAAC,CAACC,cAAF;AACA,UAAMC,KAAK,GAAGL,KAAK,CAACM,IAAN,CAAW,cAAX,EAA2BC,GAA3B,EAAd;AACA,UAAMC,QAAQ,GAAGR,KAAK,CAACM,IAAN,CAAW,iBAAX,EAA8BC,GAA9B,EAAjB;AACA,UAAME,MAAM,GAAGX,WAAW,CAACY,MAAZ,CAAmBL,KAAnB,EAA0BG,QAA1B,CAAf;;AACA,UAAIC,MAAJ,EAAY;AACRE,QAAAA,UAAU;AACV,YAAMC,SAAS,GAAG,IAAIC,eAAJ,CAAoBC,MAAM,CAACC,QAAP,CAAgBC,MAApC,CAAlB;AACA,YAAMC,SAAS,GAAGL,SAAS,CAACM,GAAV,CAAc,WAAd,CAAlB;AACA,YAAID,SAAJ,EACIlB,iBAAiB,CAACoB,UAAlB,CAA6BF,SAA7B,EADJ,KAGIlB,iBAAiB,CAACqB,MAAlB;AACP,OARD,MAQO;AACHT,QAAAA,UAAU,CAAC,gCAAD,CAAV;AACH;AACJ,KAhBD;AAiBH,GAlBA,CAAD;;AAmBA,WAASA,UAAT,CAAoBU,OAApB,EAA6B;AACzB,QAAIA,OAAJ,EAAa;AACTpB,MAAAA,aAAa,CAACqB,IAAd,CAAmBD,OAAnB;AACApB,MAAAA,aAAa,CAACsB,WAAd,CAA0B,QAA1B;AACH,KAHD,MAGO;AACHtB,MAAAA,aAAa,CAACqB,IAAd,CAAmB,EAAnB;AACArB,MAAAA,aAAa,CAACuB,QAAd,CAAuB,QAAvB;AACH;AACJ;AACJ,CA/BD,EA+BGC,MA/BH,EA+BW3B,WA/BX,EA+BwBC,iBA/BxB","sourcesContent":["'use strict';\r\n\r\n(function ($, authService, navigationService) {\r\n    const $form = $('#loginForm');\r\n    const $alertMessage = $('#alert-message');\r\n    $(function () {\r\n        $form.submit(function (e) {\r\n            e.preventDefault();\r\n            const email = $form.find('[name=email]').val();\r\n            const password = $form.find('[name=password]').val();\r\n            const result = authService.signIn(email, password);\r\n            if (result) {\r\n                setMessage();\r\n                const urlParams = new URLSearchParams(window.location.search);\r\n                const returnUrl = urlParams.get('returnUrl');\r\n                if (returnUrl)\r\n                    navigationService.toLocalUrl(returnUrl);\r\n                else\r\n                    navigationService.toHome();\r\n            } else {\r\n                setMessage('Email or password is incorrect');\r\n            }\r\n        });\r\n    });\r\n    function setMessage(message) {\r\n        if (message) {\r\n            $alertMessage.html(message);\r\n            $alertMessage.removeClass('d-none');\r\n        } else {\r\n            $alertMessage.html('');\r\n            $alertMessage.addClass('d-none');\r\n        }\r\n    }\r\n})(jQuery, authService, navigationService);"],"file":"login.js"}