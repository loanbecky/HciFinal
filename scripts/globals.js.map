{"version":3,"sources":["globals.js"],"names":["LOGIN_PAGE_URL","DENIED_PAGE_URL","RESOURCES","ROLE","id","names","POST","CATEGORY","USER","PERMISSION","ACTIONS","CREATE","READ","UPDATE","DELETE","_createConfigObj","options","config","prop","Object","defineProperty","value","writable","requireLogin","authorize","requireRead","action","toLowerCase","requireAction","requireRole","role","AdminForResourceActionConfig","resource","RoleAuthorizeResourceConfig","AuthorizeResourceConfig","AuthorizeConfig","DefaultConfig"],"mappings":"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","sourcesContent":["'use strict';\r\nconst LOGIN_PAGE_URL = '/login.html';\r\nconst DENIED_PAGE_URL = '/access-denied.html';\r\nconst RESOURCES = {\r\n    ROLE: {\r\n        id: 5,\r\n        names: ['Role']\r\n    },\r\n    POST: { id: 1, names: ['Blog Post'] },\r\n    CATEGORY: { id: 2, names: ['Categories'] },\r\n    USER: { id: 3, names: ['User'] },\r\n    PERMISSION: { id: 4, names: ['Priviledge'] }\r\n};\r\nconst ACTIONS = {\r\n    CREATE: 'create',\r\n    READ: 'read',\r\n    UPDATE: 'update',\r\n    DELETE: 'delete'\r\n};\r\nfunction _createConfigObj(options) {\r\n    if (!options) options = {};\r\n    var config = {};\r\n    for (var prop in options) {\r\n        Object.defineProperty(config, prop, {\r\n            value: options[prop],\r\n            writable: false\r\n        });\r\n    }\r\n\r\n    config.requireLogin = function () {\r\n        return config.authorize;\r\n    };\r\n\r\n    config.requireRead = function () {\r\n        return config.action && config.action.toLowerCase() == 'read';\r\n    };\r\n    config.requireAction = function () {\r\n        return config.action ? config.action : 'read';\r\n    };\r\n\r\n    config.requireRole = function () {\r\n        return config.role ? config.role : false;\r\n    };\r\n\r\n    return config;\r\n};\r\n\r\n//admin\r\nfunction AdminForResourceActionConfig(action, resource) {\r\n    return RoleAuthorizeResourceConfig({ id: 2, names: ['Admin', 'Administrator'] }, resource, action);\r\n}\r\n\r\nfunction RoleAuthorizeResourceConfig(role, resource, action) {\r\n    return _createConfigObj({ role: role, authorize: true, resource: resource, action: action });\r\n}\r\nfunction AuthorizeResourceConfig(resource, action) {\r\n    return _createConfigObj({ authorize: true, resource: resource, action: action });\r\n}\r\nfunction AuthorizeConfig() {\r\n    return _createConfigObj({ authorize: true });\r\n}\r\nfunction DefaultConfig() {\r\n    return _createConfigObj({ authorize: false });\r\n}"],"file":"globals.js"}